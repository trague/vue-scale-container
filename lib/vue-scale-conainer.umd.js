(function(l,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue-demi")):typeof define=="function"&&define.amd?define(["vue-demi"],s):(l=typeof globalThis<"u"?globalThis:l||self,l.VueScaleConainer=s(l.VueDemi))})(this,function(l){"use strict";const s=e=>e?Object.entries(e).reduce((t,[i,n])=>(i=i.charAt(0).toUpperCase()+i.slice(1),i=`on${i}`,{...t,[i]:n}),{}):{};function w(e,t={},i){if(l.isVue2)return l.h(e,t,i);const{props:n,domProps:r,on:h,...a}=t,c=h?s(h):{};return l.h(e,{...a,...n,...r,...c},i)}const m=e=>typeof e=="function"?e():e;let u;const g=e=>{var h;if(u!==void 0)return u;const t=document.createElement("div");t.className=`${e}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const i=t.offsetWidth;t.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",t.appendChild(n);const r=n.offsetWidth;return(h=t.parentNode)==null||h.removeChild(t),u=i-r,u},f=l.defineComponent({name:"VueScaleContainer",props:{width:{type:Number,default:1920},height:{type:Number,default:1080},minHeight:{type:Number,default:0},maxHeight:{type:Number,default:0},fit:{type:String,default:"fill"}},setup(e){const t=l.ref(1),i=l.ref(1),n=l.ref(e.height);l.watchEffect(()=>{document.documentElement.style.setProperty("--scale-x",t.value),document.documentElement.style.setProperty("--scale-y",i.value)});const r=()=>{if((!e.minHeight||e.minHeight>e.height)&&(!e.maxHeight||e.maxHeight<e.height)){n.value=e.height;return}const a=window.innerWidth/e.width,c=window.innerHeight/e.height;if(a===c){n.value=e.height;return}const o=a*window.innerHeight;let d=e.height;o<e.height&&e.minHeight?e.minHeight<o?d=o:e.minHeight>=o&&(d=e.minHeight):o>e.height&&e.maxHeight&&(e.maxHeight>o?d=o:e.maxHeight<=o&&(d=e.maxHeight)),n.value=d},h=()=>{r();const a=e.width,c=n.value;if(e.fit==="fill")t.value=window.innerWidth/a,i.value=window.innerHeight/c;else if(e.fit==="w-full"){if(t.value=window.innerWidth/a,i.value=t.value,t.value>window.innerHeight/c){const o=g(""),d=(window.innerWidth-o)/a;d<window.innerHeight/c?i.value=window.innerHeight/c:(t.value=d,i.value=d)}}else console.warn(`vue-scale-container.fit不支持${e.fit}参数`)};return l.onMounted(()=>{h(),window.addEventListener("resize",h)}),l.onUnmounted(()=>{window.removeEventListener("resize",h)}),{scaleX:t,scaleY:i,domHeight:n}},render(){const{domHeight:e,width:t,scaleX:i,scaleY:n}=this;return w("div",{class:"scale-container-wrap",style:{height:e*n+"px",width:t*i+"px",overflow:"hidden"}},[w("div",{class:"scale-container",style:{height:e+"px",width:t+"px",transform:`scaleX(${i}) scaleY(${n})`,transformOrigin:"0 0"}},[this.$slots.default?m(this.$slots.default):void 0])])}});return f.install=function(e){e.component(f.name,f)},f});
