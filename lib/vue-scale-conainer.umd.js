(function(i,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue-demi")):typeof define=="function"&&define.amd?define(["vue-demi"],s):(i=typeof globalThis<"u"?globalThis:i||self,i.VueScaleConainer=s(i.VueDemi))})(this,function(i){"use strict";const s=e=>e?Object.entries(e).reduce((t,[n,o])=>(n=n.charAt(0).toUpperCase()+n.slice(1),n=`on${n}`,{...t,[n]:o}),{}):{};function a(e,t={},n){if(i.isVue2)return i.h(e,t,n);const{props:o,domProps:r,on:l,...f}=t,w=l?s(l):{};return i.h(e,{...f,...o,...r,...w},n)}const h=e=>typeof e=="function"?e():e;let d;const u=e=>{var l;if(d!==void 0)return d;const t=document.createElement("div");t.className=`${e}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const n=t.offsetWidth;t.style.overflow="scroll";const o=document.createElement("div");o.style.width="100%",t.appendChild(o);const r=o.offsetWidth;return(l=t.parentNode)==null||l.removeChild(t),d=n-r,d},c=i.defineComponent({name:"VueScaleContainer",props:{width:{type:Number,default:1920},height:{type:Number,default:1080},fit:{type:String,default:"fill"}},setup(e){const t=i.ref(1),n=i.ref(1);i.watchEffect(()=>{document.documentElement.style.setProperty("--scale-x",t.value),document.documentElement.style.setProperty("--scale-y",n.value)});const o=()=>{if(e.fit==="fill")t.value=window.innerWidth/e.width,n.value=window.innerHeight/e.height;else if(e.fit==="w-full"){if(t.value=window.innerWidth/e.width,n.value=t.value,t.value>window.innerHeight/e.height){const r=u(""),l=(window.innerWidth-r)/e.width;l<window.innerHeight/e.height?n.value=window.innerHeight/e.height:(t.value=l,n.value=l)}}else console.warn(`vue-scale-container.fit不支持${e.fit}参数`)};return i.onMounted(()=>{o(),window.addEventListener("resize",o)}),i.onUnmounted(()=>{window.removeEventListener("resize",o)}),{scaleX:t,scaleY:n}},render(){const{height:e,width:t,scaleX:n,scaleY:o}=this;return a("div",{class:"scale-container-wrap",style:{height:e*o+"px",width:t*n+"px",overflow:"hidden"}},[a("div",{class:"scale-container",style:{height:e+"px",width:t+"px",transform:`scaleX(${n}) scaleY(${o})`,transformOrigin:"0 0"}},[this.$slots.default?h(this.$slots.default):void 0])])}});return c.install=function(e){e.component(c.name,c)},c});
